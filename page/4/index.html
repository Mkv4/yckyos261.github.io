<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="im1gd.me">
  <title>持续的吃</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="安全研究；编程；渗透测试">
<meta name="keywords" content="安全研究，渗透测试，编程，极客，开发，security，pentester">
<meta property="og:type" content="website">
<meta property="og:title" content="持续的吃">
<meta property="og:url" content="im1gd.me/page/4/index.html">
<meta property="og:site_name" content="持续的吃">
<meta property="og:description" content="安全研究；编程；渗透测试">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="持续的吃">
<meta name="twitter:description" content="安全研究；编程；渗透测试">
  
    <link rel="alternative" href="/atom.xml" title="持续的吃" type="application/atom+xml">
  
  
  <link rel="stylesheet" type="text/css" href="/./main.05aabf.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-97643037-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  

</head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="http://7u2pkp.com1.z0.glb.clouddn.com/1.png" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/">Im1gD</a></h1>
		</hgroup>
		
		<p class="header-subtitle">打杂搬砖</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'friends')" href="javascript:void(0)">友链</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/yckyos261" title="github"><i class="icon-github"></i></a>
		        
					<a class="qq" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=15077509&site=qq&menu=yes" title="qq"><i class="icon-qq"></i></a>
		        
					<a class="mail" target="_blank" href="mailto:yckyos261@gmail.com" title="mail"><i class="icon-mail"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="http://7u2pkp.com1.z0.glb.clouddn.com/1.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">Im1gD</h1>
			</hgroup>
			
			<p class="header-subtitle"><i class="icon icon-quo-left"></i>打杂搬砖<i class="icon icon-quo-right"></i></p>
			
			
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/yckyos261" title="github"><i class="icon-github"></i></a>
			        
						<a class="qq" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=15077509&site=qq&menu=yes" title="qq"><i class="icon-qq"></i></a>
			        
						<a class="mail" target="_blank" href="mailto:yckyos261@gmail.com" title="mail"><i class="icon-mail"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 50%">
				
				
					<li style="width: 100%"><a href="/">主页</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-Flashsky-我的安全之路" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/30/Flashsky-我的安全之路/">Flashsky:我的安全之路</a>
    </h1>
  

        
        <a href="/2017/01/30/Flashsky-我的安全之路/" class="archive-article-date">
  	<time datetime="2017-01-30T02:19:37.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-01-30</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>此文为转载，非常有意义。<br>
        
          <a class="article-more-a" href="/2017/01/30/Flashsky-我的安全之路/#more">more >></a>
        
      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/01/30/Flashsky-我的安全之路/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-arxiv-org论文下载" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/29/arxiv-org论文下载/">arxiv.org论文下载</a>
    </h1>
  

        
        <a href="/2017/01/29/arxiv-org论文下载/" class="archive-article-date">
  	<time datetime="2017-01-29T10:52:15.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-01-29</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>写了个下载arxiv.org论文的东西，比较丑陋，分成两部分，url采集和下载。本来想把这两部分整合在一起，发现总是有这样那样的问题，或许以后会好好思考一下怎么搞。。目前实现的只是最基本的功能，属于解决了温饱的问题。。<br>使用本软件，可能会导致你下载多了被封。那么你可能需要增加一个代理池。<br>这里有个问题，起始页面的PDF并没有下载，可以这样，规则输入url，然后输入的同时先把这个url写到txt。然后再去下载。其实老麻烦了，自己用的话，直接自己下载算了。<br>需要安装的依赖比较多，版本我自己也忘记了。。尴尬。<br>lxml ，requests，gevent.<br>这一部分是URL采集部分，采集之后会放到url.txt里，这里不能用多线程，只能一个一个采集。确实比较尴尬，但是他网站就是这样搞的，没办法。还用了尾调用。算法上来说真是十分垃圾了，不行，我要想办法优化一下。//只能这样了。。<br>需要补充的是我这个我只测试了下载信息安全里面的论文。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</div><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">reqPage</span><span class="params">(url)</span>:</span></div><div class="line">        headers = &#123;<span class="string">"user-agent"</span>:<span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534.57.2 (KHTML, like Gecko) Version/5.1.7 Safari/534.57.2 "</span>&#125;</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">'[+]start req url[+]'</span></div><div class="line">            req = requests.get(url,headers=headers)</div><div class="line">            <span class="keyword">return</span> req.content</div><div class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</div><div class="line">            <span class="keyword">print</span> e</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">findNextUrl</span><span class="params">(url)</span>:</span></div><div class="line">        response = reqPage(url)</div><div class="line">        pageInfo = etree.HTML(response)</div><div class="line">        nextUrl = pageInfo.xpath(<span class="string">"//span[@class='arrow'][1]/a/@href"</span>)</div><div class="line">        url = nextUrl[<span class="number">0</span>]</div><div class="line">        <span class="keyword">print</span> url</div><div class="line">        <span class="keyword">with</span> open(<span class="string">'url.txt'</span>,<span class="string">'a+'</span>) <span class="keyword">as</span> f:</div><div class="line">            f.write(url+<span class="string">'\n'</span>)</div><div class="line">        <span class="keyword">return</span> getNextUrl(url)</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">getNextUrl</span><span class="params">(url)</span>:</span></div><div class="line">        <span class="keyword">return</span> findNextUrl(url)</div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line"> getNextUrl(<span class="string">"https://arxiv.org/abs/1701.07774"</span>)</div></pre></td></tr></table></figure>
<p> 这一部分是下载器部分，会读取前面采集的url，然后去下载，用的是gevent，比较快。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">__author__ = <span class="string">'yangchen'</span></div><div class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</div><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">import</span> Queue</div><div class="line"><span class="keyword">import</span> gevent</div><div class="line"><span class="keyword">from</span> gevent <span class="keyword">import</span> monkey</div><div class="line">monkey.patch_all()</div><div class="line"><span class="keyword">from</span> gevent.pool <span class="keyword">import</span> Pool</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">downloadPaper</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, url)</span>:</span></div><div class="line">        self.url = url.replace(<span class="string">'\n'</span>,<span class="string">''</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reqPage</span><span class="params">(self)</span>:</span></div><div class="line">        headers = &#123;</div><div class="line">            <span class="string">"user-agent"</span>: <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534.57.2 (KHTML, like Gecko) Version/5.1.7 Safari/534.57.2 "</span>&#125;</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">'[+]start req url[+]'</span></div><div class="line">            <span class="keyword">try</span>:</div><div class="line">                req = requests.get(self.url,headers=headers)</div><div class="line">                <span class="keyword">return</span> req.content</div><div class="line">            <span class="keyword">except</span>:</div><div class="line">                <span class="keyword">print</span> <span class="string">"null"</span></div><div class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</div><div class="line">            <span class="keyword">print</span> e</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parsePage</span><span class="params">(self, req)</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'[+]start parse HTML[+]'</span></div><div class="line">        page = etree.HTML(req)</div><div class="line">        self.downloadUrl = page.xpath(<span class="string">'//ul/li[1]/a/@href'</span>)</div><div class="line">        self.title = page.xpath(<span class="string">"//h1[@class='title mathjax']/text()"</span>)</div><div class="line">        <span class="keyword">return</span> self.downloadUrl[<span class="number">0</span>], self.title[<span class="number">0</span>]</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">downPaper</span><span class="params">(self)</span>:</span></div><div class="line">        url, title = self.parsePage(self.reqPage())</div><div class="line">        finalurl = <span class="string">"https://arxiv.org/&#123;0&#125;"</span>.format(url)</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">'''[+]downloading wait a moment ,plz[+]'''</span></div><div class="line">            pdf = requests.get(finalurl)</div><div class="line">            <span class="keyword">if</span> pdf.status_code == <span class="number">200</span>:</div><div class="line">                <span class="keyword">print</span> <span class="string">'[+]get url successfuly![+]'</span></div><div class="line">                <span class="keyword">with</span> open(<span class="string">'&#123;0&#125;.pdf'</span>.format(title.replace(<span class="string">'\n'</span>, <span class="string">''</span>)), <span class="string">'wb'</span>) <span class="keyword">as</span> f:</div><div class="line">                    f.write(pdf.content)</div><div class="line">                    <span class="keyword">print</span> <span class="string">"[+]download completed[+]"</span></div><div class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</div><div class="line">            <span class="keyword">print</span> e</div><div class="line">queue = Queue.Queue()</div><div class="line">urllist = []</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">readUrlFile</span><span class="params">()</span>:</span></div><div class="line">        <span class="keyword">with</span> open(<span class="string">"url.txt"</span>,<span class="string">'r'</span>) <span class="keyword">as</span> f:</div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> f:</div><div class="line">                queue.put(i)</div><div class="line">                <span class="comment"># urllist.append(i)</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">mainFunction</span><span class="params">(u)</span>:</span></div><div class="line">    <span class="keyword">while</span> <span class="number">1</span>:</div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> queue.empty():</div><div class="line">            downloadPaper(queue.get()).downPaper()</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">break</span></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</div><div class="line">    readUrlFile()</div><div class="line">    pool = Pool(<span class="number">20</span>)</div><div class="line">    pool.map(mainFunction,xrange(<span class="number">20</span>))</div></pre></td></tr></table></figure>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">Python crawl</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/01/29/arxiv-org论文下载/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-生活在离文明近的地方" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/20/生活在离文明近的地方/">生活在离“文明”近的地方</a>
    </h1>
  

        
        <a href="/2017/01/20/生活在离文明近的地方/" class="archive-article-date">
  	<time datetime="2017-01-20T03:43:46.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-01-20</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>tombkeeper<br>1月13日 21:00<br>要尽可能生活在离文明中心近的地方。纵然北上广有千般不是，奈何文明边缘地带有亿般不是。</p>
</blockquote>
<p>tk是一个非常有意思的人。关于他说的这句话，本来我的体验是没有那么深的。</p>
<h1 id="回家"><a href="#回家" class="headerlink" title="回家"></a>回家</h1><p>很久没回家。</p>
<p>一回家就连续吃了很多天的酒席。我惊奇于怎么有这么多的酒席，我妈说现在的新人一进来就结婚了，有许多连我妈自己都不认识。<br>现在最少随礼也要随100了。其实在我们这种小县城，工资水平不高，像我妈工作了20多年也才拿这么点工资，那些刚毕业的就更少了。随礼已经成为负担。<br>遇见很多的人，开口第一句话必定是问你在哪里，做什么工作，工资多少。<br>谈论最多的就是谁谁谁家的孩子学医了，好前途啊！谁谁谁又考上公务员了，好职业啊！稳定啊！<br>家乡有的是十年不变的街道，每换一位领导必然把不宽的路挖烂，然后再填回去，不大的山沟沟里面，四处是开发房地产的，一万块钱首付就能买房，帮你贷款，其实明眼人都知道，这房子很难卖出去，才会有这样的动作。</p>
<h1 id="二胎"><a href="#二胎" class="headerlink" title="二胎"></a>二胎</h1><p>很久没回家，发现不大的县城里面出现了很多的高龄孕妇，不能例外的，就连我二舅家都生了一个二胎。<br>在我看来开放二胎这种事情不值一哂，未曾想有那么多人响应号召。<br>感觉有点怪怪的。让你生你就生？不让你生就不生？好听话。<br>有一句话说的好，有两种人不在意孩子的多少，富人和穷人，富人有钱不用担心后代的教育和成长。穷人没钱，在他看来，生一个孩子不过是多加一副碗筷而已，还多了一个劳动力。</p>
<h1 id="驾校"><a href="#驾校" class="headerlink" title="驾校"></a>驾校</h1><p>很久没回家，大学时候就报的驾照考试快过期了。<br>想着回家或许能考完。不知道驾考能够自己预约，问教练教练总说不知道什么时候考。等了很久突然让我去面签。面签完了，等了快一个星期，收到一个账号，登录进去一看，居然能够自己预约。可惜，就连科目二都没有名额了。<br>考不了，也没时间考，想着去把钱退了，去工作的地方考。反正也只考了科一。<br>去到驾校，柜台里面坐着一个浓妆艳抹的女子，头也不抬的玩手机。<br>“你好，我退一下报名费。”<br>眼皮抬了一下，问我考到了什么科目，我说科目一考完了。<br>“居然是2015年的？！我先问问你档案在不在吧。”<br>问完之后档案在的。她还是说我现在又拿不到你的档案。这个退钱要扣掉你一千多哦。总之就是各种刁难。<br>没事，我退扣就扣吧。单子填好了，身份证我也去复印来了。<br>告诉我没钱你明天再来吧。<br>我第二天又去了，还是那个女子，不知道是不是被人打了？脸都肿了。<br>眼皮一抬。没得钱，退不了。<br>我发誓，那个时候我真想问候她祖上所有女性。<br>最后还是托关系，找人退这个钱。<br>突然觉得，对哦，我不是生活在一个制度很健全的地方。规定不是硬通货，关系才是。</p>
<h1 id="一些思考"><a href="#一些思考" class="headerlink" title="一些思考"></a>一些思考</h1><p>想起了tk说的话，深表赞同。<br>在家乡这些人的眼里，公务员、教师、医生才是正经职业，别的都算不上正经职业。即使他们拿着一个月2000块的工资。<br>“这点工资，不够在那边生活吧？”<br>“这点工资，不买房应该够了吧？”<br>“我还从来没有见过跟人合租，只有在电视上才见过。”<br>……<br>遇见类似的问题，我都呵呵一笑。<br>改革开放已经三十多年了，有那么多人在这个大潮里早已经暴富，又有太多的人赚够了钱移民外国，也有许多人，拿着外国的身份证，却在国内赚着钱。<br>而我的家乡、家乡的人好像永远停滞在了很久以前。人们最爱的娱乐活动是打麻将。在他们思维中，不走关系办不成事情。不买房子不行，不生小孩不行。年龄大了不结婚不行。<br>我仿佛也能想通了，为什么那么多人响应国家号召生二胎。<br>他们不懂什么经济学，不懂什么政策背后的考量。可能还觉得，真好开放政策了。难道这种事情不是应该你自己能决定的吗，生几个或者不生？他们生孩子不用想生了孩子应该给孩子什么样的教育，什么样的生活条件。可能在他们的理念中就是要生两个才好，自己也说不出个所以然来吧。又或者有的想生一个儿子也未可知。<br>我现在的口气有点怪怪的。<br>我突然就不想考公务员了，因为我想生活在一个离文明近一点的地方。<br>在北上广，人们只关心你能够产生的价值。只要你有价值，你就能够活下去，不用太过于靠关系，看脸色。这样其实也不错。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Sucksthings</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/01/20/生活在离文明近的地方/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-40-000" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/18/40-000/">40,000$FB</a>
    </h1>
  

        
        <a href="/2017/01/18/40-000/" class="archive-article-date">
  	<time datetime="2017-01-18T13:01:03.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-01-18</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://4lemon.ru/2017-01-17_facebook_imagetragick_remote_code_execution.html" target="_blank" rel="external">http://4lemon.ru/2017-01-17_facebook_imagetragick_remote_code_execution.html</a></p>
<p>看完人家的突然觉得，其实很多时候根本就是没有认真找漏洞。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/01/18/40-000/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-PHPMailer" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/PHPMailer/">PHPMailer Remote Code Execution</a>
    </h1>
  

        
        <a href="/2017/01/11/PHPMailer/" class="archive-article-date">
  	<time datetime="2017-01-11T03:46:26.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-01-11</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.fortinet.com/2017/01/05/analysis-of-phpmailer-remote-code-execution-vulnerability-cve-2016-10033" target="_blank" rel="external">http://blog.fortinet.com/2017/01/05/analysis-of-phpmailer-remote-code-execution-vulnerability-cve-2016-10033</a><br>This vulnerability affects PHPMailer versions before 5.2.18.<br>这个漏洞影响的是PHPmailer 5.2.18之前的版本。</p>
<p>When sending an email with PHPMailer, the normal process is, 1) PHPMailer gets user requests, 2) PHPMailer validates the user supplied data, 3) PHPMailer sends the data to the PHP mail() function to send the email.<br>通过PHPMailer发送一封邮件的流程是，PHPMailer取得用户的请求，验证用户提供的数据，最后把数据发送到PHP mail（） 函数发送邮件。</p>
<blockquote>
<pre><code>public function setFrom($address, $name = &apos;&apos;, $auto = true)
{
    $address = trim($address);
    $name = trim(preg_replace(&apos;/[\r\n]+/&apos;, &apos;&apos;, $name)); //Strip breaks and trim
    // Don&apos;t validate now addresses with IDN. Will be done in send().
    if (($pos = strrpos($address, &apos;@&apos;)) === false or
        (!$this-&gt;has8bitChars(substr($address, ++$pos)) or !$this-&gt;idnSupported()) and
        !$this-&gt;validateAddress($address)) {
        $error_message = $this-&gt;lang(&apos;invalid_address&apos;) . &quot; (setFrom) $address&quot;;
        $this-&gt;setError($error_message);
        $this-&gt;edebug($error_message);
        if ($this-&gt;exceptions) {
            throw new phpmailerException($error_message);
        }
        return false;
    }
    $this-&gt;From = $address;
    $this-&gt;FromName = $name;
    if ($auto) {
        if (empty($this-&gt;Sender)) {
            $this-&gt;Sender = $address;
        }
    }
    return true;
}
</code></pre></blockquote>
<p>这里面有个if 语句 有很多 or 还有一个and 。!$this-&gt;idnSupported()) and<br>            !$this-&gt;validateAddress($address)) 这个成立。就会进入if语句,</p>
<p><strong>但是要的是不进入if语句，所以要想办法不满足if中的条件。</strong></p>
<p>This validator <strong>uses standard validation methods</strong>, like PHP’s built-in FILTER_VALIDATE_EMAIL, pcres from squiloople.com, and html5 default patterns for email type.</p>
<p>For example, the $address with value “attacker -InjectedParam @example.com” will be rejected. <strong>But these methods follow RFC3696, which means the email address can contain spaces when quoted with “””, so an $address with value “”attacker -InjectedParam”@example.com” will pass through the filter.</strong></p>
<p>重点是这句话，上述这些方法都是遵循了RFC3696，这就意味着，当在后面跟随着一个“””时，email地址能够出现空格。<br>After the validation stage, PHPMailer will send the email elements, such as receiver address, subject, body, header, and sender address to the PHP mail() function to send the email. The code is shown below.<br>其实这里会出现一个疑问，为何输入一个”就会能够输入空格？那就要看他的validateAddress函数里面怎么写的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div></pre></td><td class="code"><pre><div class="line"> * Check that a string looks like an email address.</div><div class="line"> * @param string $address The email address to check</div><div class="line"> * @param string|callable $patternselect A selector for the validation pattern to use :</div><div class="line"> * * `auto` Pick best pattern automatically;</div><div class="line"> * * `pcre8` Use the squiloople.com pattern, requires PCRE &gt; 8.0, PHP &gt;= 5.3.2, 5.2.14;</div><div class="line"> * * `pcre` Use old PCRE implementation;</div><div class="line"> * * `php` Use PHP built-in FILTER_VALIDATE_EMAIL;</div><div class="line"> * * `html5` Use the pattern given by the HTML5 spec for &apos;email&apos; type form input elements.</div><div class="line"> * * `noregex` Don&apos;t use a regex: super fast, really dumb.</div><div class="line"> * Alternatively you may pass in a callable to inject your own validator, for example:</div><div class="line"> * PHPMailer::validateAddress(&apos;user@example.com&apos;, function($address) &#123;</div><div class="line"> *     return (strpos($address, &apos;@&apos;) !== false);</div><div class="line"> * &#125;);</div><div class="line"> * You can also set the PHPMailer::$validator static to a callable, allowing built-in methods to use your validator.</div><div class="line"> * @return boolean</div><div class="line"> * @static</div><div class="line"> * @access public</div><div class="line"> */</div><div class="line">public static function validateAddress($address, $patternselect = null)</div><div class="line">&#123;</div><div class="line">    if (is_null($patternselect)) &#123;</div><div class="line">        $patternselect = self::$validator;</div><div class="line">    &#125;</div><div class="line">    if (is_callable($patternselect)) &#123;</div><div class="line">        return call_user_func($patternselect, $address);</div><div class="line">    &#125;</div><div class="line">    //Reject line breaks in addresses; it&apos;s valid RFC5322, but not RFC5321</div><div class="line">    if (strpos($address, &quot;\n&quot;) !== false or strpos($address, &quot;\r&quot;) !== false) &#123;</div><div class="line">        return false;</div><div class="line">    &#125;</div><div class="line">    if (!$patternselect or $patternselect == &apos;auto&apos;) &#123;</div><div class="line">        //Check this constant first so it works when extension_loaded() is disabled by safe mode</div><div class="line">        //Constant was added in PHP 5.2.4</div><div class="line">        if (defined(&apos;PCRE_VERSION&apos;)) &#123;</div><div class="line">            //This pattern can get stuck in a recursive loop in PCRE &lt;= 8.0.2</div><div class="line">            if (version_compare(PCRE_VERSION, &apos;8.0.3&apos;) &gt;= 0) &#123;</div><div class="line">                $patternselect = &apos;pcre8&apos;;</div><div class="line">            &#125; else &#123;</div><div class="line">                $patternselect = &apos;pcre&apos;;</div><div class="line">            &#125;</div><div class="line">        &#125; elseif (function_exists(&apos;extension_loaded&apos;) and extension_loaded(&apos;pcre&apos;)) &#123;</div><div class="line">            //Fall back to older PCRE</div><div class="line">            $patternselect = &apos;pcre&apos;;</div><div class="line">        &#125; else &#123;</div><div class="line">            //Filter_var appeared in PHP 5.2.0 and does not require the PCRE extension</div><div class="line">            if (version_compare(PHP_VERSION, &apos;5.2.0&apos;) &gt;= 0) &#123;</div><div class="line">                $patternselect = &apos;php&apos;;</div><div class="line">            &#125; else &#123;</div><div class="line">                $patternselect = &apos;noregex&apos;;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    switch ($patternselect) &#123;</div><div class="line">        case &apos;pcre8&apos;:</div><div class="line">            /**</div><div class="line">             * Uses the same RFC5322 regex on which FILTER_VALIDATE_EMAIL is based, but allows dotless domains.</div><div class="line">             * @link http://squiloople.com/2009/12/20/email-address-validation/</div><div class="line">             * @copyright 2009-2010 Michael Rushton</div><div class="line">             * Feel free to use and redistribute this code. But please keep this copyright notice.</div><div class="line">             */</div><div class="line">            return (boolean)preg_match(</div><div class="line">                &apos;/^(?!(?&gt;(?1)&quot;?(?&gt;\\\[ -~]|[^&quot;])&quot;?(?1))&#123;255,&#125;)(?!(?&gt;(?1)&quot;?(?&gt;\\\[ -~]|[^&quot;])&quot;?(?1))&#123;65,&#125;@)&apos; .</div><div class="line">                &apos;((?&gt;(?&gt;(?&gt;((?&gt;(?&gt;(?&gt;\x0D\x0A)?[\t ])+|(?&gt;[\t ]*\x0D\x0A)?[\t ]+)?)(\((?&gt;(?2)&apos; .</div><div class="line">                &apos;(?&gt;[\x01-\x08\x0B\x0C\x0E-\&apos;*-\[\]-\x7F]|\\\[\x00-\x7F]|(?3)))*(?2)\)))+(?2))|(?2))?)&apos; .</div><div class="line">                &apos;([!#-\&apos;*+\/-9=?^-~-]+|&quot;(?&gt;(?2)(?&gt;[\x01-\x08\x0B\x0C\x0E-!#-\[\]-\x7F]|\\\[\x00-\x7F]))*&apos; .</div><div class="line">                &apos;(?2)&quot;)(?&gt;(?1)\.(?1)(?4))*(?1)@(?!(?1)[a-z0-9-]&#123;64,&#125;)(?1)(?&gt;([a-z0-9](?&gt;[a-z0-9-]*[a-z0-9])?)&apos; .</div><div class="line">                &apos;(?&gt;(?1)\.(?!(?1)[a-z0-9-]&#123;64,&#125;)(?1)(?5))&#123;0,126&#125;|\[(?:(?&gt;IPv6:(?&gt;([a-f0-9]&#123;1,4&#125;)(?&gt;:(?6))&#123;7&#125;&apos; .</div><div class="line">                &apos;|(?!(?:.*[a-f0-9][:\]])&#123;8,&#125;)((?6)(?&gt;:(?6))&#123;0,6&#125;)?::(?7)?))|(?&gt;(?&gt;IPv6:(?&gt;(?6)(?&gt;:(?6))&#123;5&#125;:&apos; .</div><div class="line">                &apos;|(?!(?:.*[a-f0-9]:)&#123;6,&#125;)(?8)?::(?&gt;((?6)(?&gt;:(?6))&#123;0,4&#125;):)?))?(25[0-5]|2[0-4][0-9]|1[0-9]&#123;2&#125;&apos; .</div><div class="line">                &apos;|[1-9]?[0-9])(?&gt;\.(?9))&#123;3&#125;))\])(?1)$/isD&apos;,</div><div class="line">                $address</div><div class="line">            );</div><div class="line">        case &apos;pcre&apos;:</div><div class="line">            //An older regex that doesn&apos;t need a recent PCRE</div><div class="line">            return (boolean)preg_match(</div><div class="line">                &apos;/^(?!(?&gt;&quot;?(?&gt;\\\[ -~]|[^&quot;])&quot;?)&#123;255,&#125;)(?!(?&gt;&quot;?(?&gt;\\\[ -~]|[^&quot;])&quot;?)&#123;65,&#125;@)(?&gt;&apos; .</div><div class="line">                &apos;[!#-\&apos;*+\/-9=?^-~-]+|&quot;(?&gt;(?&gt;[\x01-\x08\x0B\x0C\x0E-!#-\[\]-\x7F]|\\\[\x00-\xFF]))*&quot;)&apos; .</div><div class="line">                &apos;(?&gt;\.(?&gt;[!#-\&apos;*+\/-9=?^-~-]+|&quot;(?&gt;(?&gt;[\x01-\x08\x0B\x0C\x0E-!#-\[\]-\x7F]|\\\[\x00-\xFF]))*&quot;))*&apos; .</div><div class="line">                &apos;@(?&gt;(?![a-z0-9-]&#123;64,&#125;)(?&gt;[a-z0-9](?&gt;[a-z0-9-]*[a-z0-9])?)(?&gt;\.(?![a-z0-9-]&#123;64,&#125;)&apos; .</div><div class="line">                &apos;(?&gt;[a-z0-9](?&gt;[a-z0-9-]*[a-z0-9])?))&#123;0,126&#125;|\[(?:(?&gt;IPv6:(?&gt;(?&gt;[a-f0-9]&#123;1,4&#125;)(?&gt;:&apos; .</div><div class="line">                &apos;[a-f0-9]&#123;1,4&#125;)&#123;7&#125;|(?!(?:.*[a-f0-9][:\]])&#123;8,&#125;)(?&gt;[a-f0-9]&#123;1,4&#125;(?&gt;:[a-f0-9]&#123;1,4&#125;)&#123;0,6&#125;)?&apos; .</div><div class="line">                &apos;::(?&gt;[a-f0-9]&#123;1,4&#125;(?&gt;:[a-f0-9]&#123;1,4&#125;)&#123;0,6&#125;)?))|(?&gt;(?&gt;IPv6:(?&gt;[a-f0-9]&#123;1,4&#125;(?&gt;:&apos; .</div><div class="line">                &apos;[a-f0-9]&#123;1,4&#125;)&#123;5&#125;:|(?!(?:.*[a-f0-9]:)&#123;6,&#125;)(?&gt;[a-f0-9]&#123;1,4&#125;(?&gt;:[a-f0-9]&#123;1,4&#125;)&#123;0,4&#125;)?&apos; .</div><div class="line">                &apos;::(?&gt;(?:[a-f0-9]&#123;1,4&#125;(?&gt;:[a-f0-9]&#123;1,4&#125;)&#123;0,4&#125;):)?))?(?&gt;25[0-5]|2[0-4][0-9]|1[0-9]&#123;2&#125;&apos; .</div><div class="line">                &apos;|[1-9]?[0-9])(?&gt;\.(?&gt;25[0-5]|2[0-4][0-9]|1[0-9]&#123;2&#125;|[1-9]?[0-9]))&#123;3&#125;))\])$/isD&apos;,</div><div class="line">                $address</div><div class="line">            );</div><div class="line">        case &apos;html5&apos;:</div><div class="line">            /**</div><div class="line">             * This is the pattern used in the HTML5 spec for validation of &apos;email&apos; type form input elements.</div><div class="line">             * @link http://www.whatwg.org/specs/web-apps/current-work/#e-mail-state-(type=email)</div><div class="line">             */</div><div class="line">            return (boolean)preg_match(</div><div class="line">                &apos;/^[a-zA-Z0-9.!#$%&amp;\&apos;*+\/=?^_`&#123;|&#125;~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]&#123;0,61&#125;&apos; .</div><div class="line">                &apos;[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]&#123;0,61&#125;[a-zA-Z0-9])?)*$/sD&apos;,</div><div class="line">                $address</div><div class="line">            );</div><div class="line">        case &apos;noregex&apos;:</div><div class="line">            //No PCRE! Do something _very_ approximate!</div><div class="line">            //Check the address is 3 chars or longer and contains an @ that&apos;s not the first or last char</div><div class="line">            return (strlen($address) &gt;= 3</div><div class="line">                and strpos($address, &apos;@&apos;) &gt;= 1</div><div class="line">                and strpos($address, &apos;@&apos;) != strlen($address) - 1);</div><div class="line">        case &apos;php&apos;:</div><div class="line">        default:</div><div class="line">            return (boolean)filter_var($address, FILTER_VALIDATE_EMAIL);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可以参考这个：<a href="https://www.leavesongs.com/PENETRATION/how-to-analyze-long-regex.html" target="_blank" rel="external">1</a></p>
<p>到这里就能绕过前面的if语句了。<br>然后address会赋值给this-&gt;sender;然后发送，<br>那现在还有个问题，到底是在哪里能够执行命令？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">public function postSend()</div><div class="line">    &#123;</div><div class="line">        try &#123;</div><div class="line">            // Choose the mailer and send through it</div><div class="line">            switch ($this-&gt;Mailer) &#123;</div><div class="line">                case &apos;sendmail&apos;:</div><div class="line">                case &apos;qmail&apos;:</div><div class="line">                    return $this-&gt;sendmailSend($this-&gt;MIMEHeader, $this-&gt;MIMEBody);</div><div class="line">                case &apos;smtp&apos;:</div><div class="line">                    return $this-&gt;smtpSend($this-&gt;MIMEHeader, $this-&gt;MIMEBody);</div><div class="line">                case &apos;mail&apos;:</div><div class="line">                    return $this-&gt;mailSend($this-&gt;MIMEHeader, $this-&gt;MIMEBody);</div><div class="line">                default:</div><div class="line">                    $sendMethod = $this-&gt;Mailer.&apos;Send&apos;;</div><div class="line">                    if (method_exists($this, $sendMethod)) &#123;</div><div class="line">                        return $this-&gt;$sendMethod($this-&gt;MIMEHeader, $this-&gt;MIMEBody);</div><div class="line">                    &#125;</div><div class="line">                    return $this-&gt;mailSend($this-&gt;MIMEHeader, $this-&gt;MIMEBody);</div><div class="line">            &#125;</div></pre></td></tr></table></figure>
<p>这里会调用mailSend()<br>doCallback<br>call_user_func_array但是我并没有找到能够写入文件的，<br>倒是发现了一个sendmailSend()。</p>
<p>The issue here is that PHPMailer doesn’t sterilize these email values before sending them to the mail() function.(这里的问题是邮件的数据在发送到mail函数之前没有做任何的过滤“消毒”措施) It just returns the  and then sends the $result to the mail() function with the same set of parameters. This issue enables the subsequent attacks.</p>
<p>For example, when sending the request with email address:<br> mail() function will execute /usr/bin/sendmail with 4 arguments, （mail函数将执行：）“/usr/bin/sendmail”, “-t”, “-i” and “-fattacker -InjectedParam@example.com”.</p>
<p>However, an attacker could break the fourth argument by injecting a parameter with “\””. （但攻击者可以通过注入一个“\””来终端第四个参数）For example, using the email address:</p>
<p>This email address will let the sendmail function execute 6 arguments, “/usr/bin/sendmail”, “-t”, “-i”, “-fattacker”, “-InjectedParam1” and “-InjectedParam2”@example.com”.</p>
<hr>
<p>理一下顺序，上面说了，发一封邮件，检查邮件的参数/数据是否合法，然后发送到php 的mail()函数发送。<br>setForm是检查格式的函数，最终做完检查之后会把adrress赋值给this-Sender<br>send()里面调用了postsend和presend，在postsend中发现有sendmailSend和mailSend，sendmailSend中有fputs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">if (!@$mail = popen($sendmail, &apos;w&apos;)) 而其中的sendmail来自上面 </div><div class="line">$sendmail = sprintf($sendmailFmt, escapeshellcmd($this-&gt;Sendmail), $this-&gt;Sender);//这是改过的代码了。</div><div class="line"></div><div class="line">if (!empty($this-&gt;Sender) and self::isShellSafe($this-&gt;Sender)) &#123;//这里是改过的代码了,有一个isshellsafe</div><div class="line">            if ($this-&gt;Mailer == &apos;qmail&apos;) &#123;</div><div class="line">            $sendmail = sprintf(&apos;%s -f%s&apos;, escapeshellcmd($this-&gt;Sendmail), escapeshellarg($this-&gt;Sender));//老代码中是这样写的</div><div class="line">                // $sendmailFmt = &apos;%s -f%s&apos;;</div><div class="line">            &#125; else &#123;</div><div class="line">            $sendmail = sprintf(&apos;%s -oi -f%s -t&apos;, escapeshellcmd($this-&gt;Sendmail), escapeshellarg($this-&gt;Sender));</div><div class="line">               // $sendmailFmt = &apos;%s -oi -f%s -t&apos;;</div><div class="line">            &#125;</div><div class="line">        &#125; else &#123;</div><div class="line">            if ($this-&gt;Mailer == &apos;qmail&apos;) &#123;</div><div class="line">            $sendmail = sprintf(&apos;%s&apos;, escapeshellcmd($this-&gt;Sendmail));</div><div class="line">                //$sendmailFmt = &apos;%s&apos;;</div><div class="line">            &#125; else &#123;</div><div class="line">            $sendmail = sprintf(&apos;%s -oi -t&apos;, escapeshellcmd($this-&gt;Sendmail));</div><div class="line">                //$sendmailFmt = &apos;%s -oi -t&apos;;</div><div class="line">            &#125;</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<hr>
<p>值得注意的是这里有一个qmail，</p>
<p>判断是否是qmail，如果是，this-&gt;mailer= qmail</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">public function isQmail()</div><div class="line">    &#123;</div><div class="line">        $ini_sendmail_path = ini_get(&apos;sendmail_path&apos;);</div><div class="line">        if (!stristr($ini_sendmail_path, &apos;qmail&apos;)) &#123;</div><div class="line">            $this-&gt;Sendmail = &apos;/var/qmail/bin/qmail-inject&apos;;</div><div class="line">        &#125; else &#123;</div><div class="line">            $this-&gt;Sendmail = $ini_sendmail_path;</div><div class="line">        &#125;</div><div class="line">        $this-&gt;Mailer = &apos;qmail&apos;;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>好吧原文中有一句话，The mail() function will execute /usr/bin/sendmail.并没有找到sendmail是怎么写的。想必跟sendmailSend差不多吧。</p>
<p>我觉得一个好的分析，应当是条理清晰的，搞清楚为什么造成漏洞，需要哪些条件，怎么去利用漏洞。但是看起来好像你分析清楚了怎么造成，那就会去利用了的感觉。很多分析，连怎么造成漏洞的都没有搞的逻辑清晰。像高数里面的易得一样。<br>其实这里还有一个问题，怎才能触发qmail的漏洞？在send（）中有调用postsend;设想一下，找到调用postsend的地方，然后调用它，让发送的case=qmail就能触发了。<br><a href="http://paper.seebug.org/161/" target="_blank" rel="external">http://paper.seebug.org/161/</a></p>
<p>搞了半天发现这个，有一句话解答了我疑惑。</p>
<blockquote>
<p>这里$param作为mail的第五个参数，该参数用于指定sendmail的额外参数，其中sendmail的-X参数会将流量记录到文件中从而写文件实现 RCE，至于具体利用详见 Roundcube RCE。</p>
</blockquote>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">vulnerability</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/01/11/PHPMailer/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-long" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/27/long/">Long Long Ago</a>
    </h1>
  

        
        <a href="/2016/12/27/long/" class="archive-article-date">
  	<time datetime="2016-12-27T08:08:03.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2016-12-27</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们暂且叫他A。<br>A不喜欢说话，喜欢看书，书中有很大的世界。曾经看过一些关于黑客的书，看完之后A就想，以后也要像书里写的一样。<br>不出意外的，大学里A选了计算机相关的专业，虽然并不知道计算机专业到底学什么，只是凭着百度百科里面介绍的那几句话就选了一个专业。潜意识里觉得，读了计算机专业就算是黑客了吧。<br>想象很美好，马克思语文思修毛概，这类的课程占据了大半部分的时间。剩下的专业课，c学了一学期，c++学了一学期。老师天天让写代码算水仙花之类。<br>差点就绝望了，还好A跑到图书馆去找书看。黑客攻防技术宝典Web实战篇，这是A最先看的一本关于安全的书。<br>终于发现了宝藏。<br>之后的路却没有像书里写的那么激情四射，甚至于有点平淡。<br>很孤独的穿梭于教室和图书馆之间，最恨的就是图书馆放假比学生快。手抄了考研专业课要求的所有课程的所有重点知识。知道了寄存器是什么鬼。好些专业书也好像突然就读得懂了。也会有第一次在教务系统里找到妹子的信息的激动之类的。但很快也就归于平静。<br>无聊的时候会看算法导论，越看越兴奋。<br>对，没有人喜欢孤独，只是不得不忍受孤独和别人觉得他是个异类的眼光。因为心中有梦想啊。<br>不可避免的，A面临着毕业找工作的问题。或许人家一看他的学校就没有了聊下去的兴趣。<br>A很困惑，觉得他自己并不差啊。投简历啊，找实习啊。费劲千辛万苦终于找到了一家公司，一个很好的老大，A从没有忘记老大的知遇之恩，每当想起当年老大给他这样一个机会还是会觉得世界很美好的。<br>A的学校扮演了恶人的角色。<br>终于还是毕业了，A离开了那个邻近学校的城市，去了南方，他以为南方会有很好的空气。<br>A进了一家名头听起来很响的公司，为什么进这家公司？因为听说公司有给地方住，后来才知道，给住的房子其实是给一些总监级别的人住的，搞的这些总监对办公室主任非常不满意。<br>是啊，就是这么简单的一个动机，A就只身远赴他乡。A想起来还是会笑笑自己啊。<br>后来啊，知道了原来现实并不是那么的美好。也见识到了很多，尔虞我诈，笑里藏刀。有点厌倦了，A其实只想做点事，给你赚钱的同时自己也能提升一下，仅此而已。可惜，A什么都没有学到，反倒是让A觉得很失望，几乎是对这个行业的失望。<br>啊，原来这个行业是这样子？不，应该是他自己的格局不够。没有办法进入更高级别的圈子。<br>A不想浑浑噩噩的混日子，提前过上养老生活，到头来只会满嘴跑火车。<br>A不能甩下一切就辞职回家，他有女朋友跟他一起。<br>日复一日的忍耐，目睹了太多刷新他认知、道德观下限的事情。<br>终于还是忍不住了。不想让更多的人被坑害，想出一口气。<br>A的心中还是有一点希望，觉得世界还是有美好的，就像当年他骑车到学校的邻近城市，没有钱，手机没有电，迷路、天黑、报警无人理，一位大叔带他到快速路上，还给了他一个烧饼，好人还是有的。<br>A的热血凉了没有？说实话我也不知道。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">sucks things</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2016/12/27/long/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-subdomain" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/20/subdomain/">Subdomain</a>
    </h1>
  

        
        <a href="/2016/12/20/subdomain/" class="archive-article-date">
  	<time datetime="2016-12-20T11:56:57.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2016-12-20</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>修改了一下<a href="http://www.cnseay.com/4482/" target="_blank" rel="external">http://www.cnseay.com/4482/</a> 的Layer子域名挖掘机4.2纪念版</p>
<hr>
<p>地址:<a href="https://github.com/yckyos261/Csharp/blob/master/Layer%E5%AD%90%E5%9F%9F%E5%90%8D%E6%8C%96%E6%8E%98%E6%9C%BA4.2%E4%BF%AE%E6%94%B9%E7%89%88.rar" target="_blank" rel="external">修改版</a><br>增加功能，导出单纯IP地址，导出80端口存活子域名；因为在实际测试中发现有的子域名并不能访问，要么是内网，要么是端口问题；<br>本来想删除所有的域名导出，但是发现有的域名虽然显示没有端口但是还是能打开网页。所以就保留了。<br>别的功能，把名字改了一下，去掉升级；<br>对了，导出的IP去重过了。直接导入nmap就能扫描。嘿嘿嘿。。。<br>感谢作者开源。虽然代码看的我一愣一愣的。</p>
<h2 id="更新-2017-5-3"><a href="#更新-2017-5-3" class="headerlink" title="更新 2017-5.3"></a>更新 2017-5.3</h2><p>我一直发现了泛解析会有很多很长的ip没法处理。。</p>
<p>我一直懒着。。终于今天改了一下。。。</p>
<p>这次是真的 去重了。。</p>
<p>链接: <a href="https://pan.baidu.com/s/1slTSAoH" target="_blank" rel="external">https://pan.baidu.com/s/1slTSAoH</a> 密码: fgkt</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">blast</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2016/12/20/subdomain/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-slowdown" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/18/slowdown/">Slow down</a>
    </h1>
  

        
        <a href="/2016/12/18/slowdown/" class="archive-article-date">
  	<time datetime="2016-12-18T13:47:46.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2016-12-18</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>长城上映的第一天去看的，倒是没太多期待。主要是因为有马特达蒙，谍影重重看多了。<br>看了半个小时，困意袭来。只好分散注意力，想一想为何有这样一部电影诞生。<br>从侧面来看，新闻里不停的宣传中国的电影市场有多大的蛋糕、文化产业越发的繁荣，受到重视。还有郭敬明之流凭一己之力带坏了整个电影行业的风气。<br>资本冲入电影市场，烂片层出不穷，皆是为了分一杯羹、IP横行。<br>那么也就不难想象，为何这样一部电影会诞生了，或许是作为一个尝试吧，毕竟都是为了赚钱，谁也不想放弃或者说丢掉中国这样大一个市场吧。<br>一部有中国明星，中国导演，中国情结的电影就这样诞生了，你赚钱我喝汤何乐而不为？<br>这不由的让我想起了我身处的这个行业。培训班兴起，教你写假的简历，让你伪造工作经验，四个月培养出一堆“程序员”。21天精通xxx，这类的书籍充斥着书店。<br>就拿我自己的所见所闻来说，我所处的这个行业，网上的视频很多，工具很多。很多的视频教你怎么用工具，仅此而已，好像你会用了工具就万事大吉一样。所以我见过的一些人，计算机基本素质非常差。<br>到底是什么原因会出现现在这样的状态？<br>充斥着大牛，大神这样的词汇，人们都崇拜高手，大神，不知道是不是只是崇拜他们的厉害和光辉。对他们的技术好像没有那么关心了，有点像追星。<br>是啊，人们都喜欢“厉害”，那又是什么让人们只喜欢追求厉害、成功呢？<br>或许是这个浮华的社会环境，崇尚金钱，权利。大牛有技术可以换成钱，可以到处演讲。又或者是对自己的不满足呢，希望自己变成大牛，就能经历那些光辉。——市场经济后的中国。人情社会的关系变得薄弱，金钱至上。<br>很累 ，很困惑，不想坚持。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">reflect</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2016/12/18/slowdown/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a>
    </nav>
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Im1gD
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="./",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){var e=/\/|index.html/g;return t.replace(e,"")===n.replace(e,"")}function i(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,e=0,r=t.length;e<r;e++){var i=t[e];o(n,i.getAttribute("href"))&&(0,d.default)(i,"active")}}function u(t){for(var n=t.offsetLeft,e=t.offsetParent;null!==e;)n+=e.offsetLeft,e=e.offsetParent;return n}function f(t){for(var n=t.offsetTop,e=t.offsetParent;null!==e;)n+=e.offsetTop,e=e.offsetParent;return n}function c(t,n,e,r,o){var i=u(t),c=f(t)-n;if(c-e<=o){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,h.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(e||c)+"px",a.style.left=i+"px",a.style.zIndex=r||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");c(t,document.body.scrollTop,-63,2,0),c(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}function l(){x.default.versions.mobile&&window.screen.width<800&&(i(),s())}var p=e(71),d=r(p),v=e(72),y=(r(v),e(84)),h=r(y),b=e(69),x=r(b),g=e(75),m=r(g),w=e(70);l(),(0,w.addLoadEvent)(function(){m.default.init()}),t.exports={}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(49),o=e(15);t.exports=function(t){return r(o(t))}},function(t,n,e){t.exports=!e(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,e){var r=e(6),o=e(12);t.exports=e(4)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(10),o=e(30),i=e(24),u=Object.defineProperty;n.f=e(4)?Object.defineProperty:function(t,n,e){if(r(t),n=i(n,!0),r(e),o)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(22)("wks"),o=e(13),i=e(1).Symbol,u="function"==typeof i,f=t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))};f.store=r},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(35),o=e(16);t.exports=Object.keys||function(t){return r(t,o)}},function(t,n,e){var r=e(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(6).f,o=e(2),i=e(7)("toStringTag");t.exports=function(t,n,e){t&&!o(t=e?t:t.prototype,i)&&r(t,i,{configurable:!0,value:n})}},function(t,n,e){var r=e(22)("keys"),o=e(13);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n,e){var r=e(1),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(11);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var r=e(1),o=e(14),i=e(18),u=e(26),f=e(6).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||f(n,t,{value:u.f(t)})}},function(t,n,e){n.f=e(7)},function(t,n,e){var r=e(1),o=e(14),i=e(46),u=e(5),f="prototype",c=function(t,n,e){var a,s,l,p=t&c.F,d=t&c.G,v=t&c.S,y=t&c.P,h=t&c.B,b=t&c.W,x=d?o:o[n]||(o[n]={}),g=x[f],m=d?r:v?r[n]:(r[n]||{})[f];d&&(e=n);for(a in e)s=!p&&m&&void 0!==m[a],s&&a in x||(l=s?m[a]:e[a],x[a]=d&&"function"!=typeof m[a]?e[a]:h&&s?i(l,r):b&&m[a]==l?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[f]=t[f],n}(l):y&&"function"==typeof l?i(Function.call,l):l,y&&((x.virtual||(x.virtual={}))[a]=l,t&c.R&&g&&!g[a]&&u(g,a,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(11),o=e(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,e){t.exports=!e(4)&&!e(8)(function(){return 7!=Object.defineProperty(e(29)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){"use strict";var r=e(18),o=e(27),i=e(36),u=e(5),f=e(2),c=e(17),a=e(51),s=e(20),l=e(58),p=e(7)("iterator"),d=!([].keys&&"next"in[].keys()),v="@@iterator",y="keys",h="values",b=function(){return this};t.exports=function(t,n,e,x,g,m,w){a(e,n,x);var O,S,_,j=function(t){if(!d&&t in A)return A[t];switch(t){case y:return function(){return new e(this,t)};case h:return function(){return new e(this,t)}}return function(){return new e(this,t)}},P=n+" Iterator",E=g==h,M=!1,A=t.prototype,T=A[p]||A[v]||g&&A[g],L=T||j(g),N=g?E?j("entries"):L:void 0,C="Array"==n?A.entries||T:T;if(C&&(_=l(C.call(new t)),_!==Object.prototype&&(s(_,P,!0),r||f(_,p)||u(_,p,b))),E&&T&&T.name!==h&&(M=!0,L=function(){return T.call(this)}),r&&!w||!d&&!M&&A[p]||u(A,p,L),c[n]=L,c[P]=b,g)if(O={values:E?L:j(h),keys:m?L:j(y),entries:N},w)for(S in O)S in A||i(A,S,O[S]);else o(o.P+o.F*(d||M),n,O);return O}},function(t,n,e){var r=e(10),o=e(55),i=e(16),u=e(21)("IE_PROTO"),f=function(){},c="prototype",a=function(){var t,n=e(29)("iframe"),r=i.length,o="<",u=">";for(n.style.display="none",e(48).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+u+"document.F=Object"+o+"/script"+u),t.close(),a=t.F;r--;)delete a[c][i[r]];return a()};t.exports=Object.create||function(t,n){var e;return null!==t?(f[c]=r(t),e=new f,f[c]=null,e[u]=t):e=a(),void 0===n?e:o(e,n)}},function(t,n,e){var r=e(35),o=e(16).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(2),o=e(3),i=e(45)(!1),u=e(21)("IE_PROTO");t.exports=function(t,n){var e,f=o(t),c=0,a=[];for(e in f)e!=u&&r(f,e)&&a.push(e);for(;n.length>c;)r(f,e=n[c++])&&(~i(a,e)||a.push(e));return a}},function(t,n,e){t.exports=e(5)},function(t,n,e){var r=e(15);t.exports=function(t){return Object(r(t))}},function(t,n,e){t.exports={default:e(41),__esModule:!0}},function(t,n,e){t.exports={default:e(42),__esModule:!0}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(39),i=r(o),u=e(38),f=r(u),c="function"==typeof f.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":typeof t};n.default="function"==typeof f.default&&"symbol"===c(i.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},function(t,n,e){e(65),e(63),e(66),e(67),t.exports=e(14).Symbol},function(t,n,e){e(64),e(68),t.exports=e(26).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,e){var r=e(3),o=e(61),i=e(60);t.exports=function(t){return function(n,e,u){var f,c=r(n),a=o(c.length),s=i(u,a);if(t&&e!=e){for(;a>s;)if(f=c[s++],f!=f)return!0}else for(;a>s;s++)if((t||s in c)&&c[s]===e)return t||s||0;return!t&&-1}}},function(t,n,e){var r=e(43);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var r=e(9),o=e(34),i=e(19);t.exports=function(t){var n=r(t),e=o.f;if(e)for(var u,f=e(t),c=i.f,a=0;f.length>a;)c.call(t,u=f[a++])&&n.push(u);return n}},function(t,n,e){t.exports=e(1).document&&document.documentElement},function(t,n,e){var r=e(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){"use strict";var r=e(32),o=e(12),i=e(20),u={};e(5)(u,e(7)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(u,{next:o(1,e)}),i(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var r=e(9),o=e(3);t.exports=function(t,n){for(var e,i=o(t),u=r(i),f=u.length,c=0;f>c;)if(i[e=u[c++]]===n)return e}},function(t,n,e){var r=e(13)("meta"),o=e(11),i=e(2),u=e(6).f,f=0,c=Object.isExtensible||function(){return!0},a=!e(8)(function(){return c(Object.preventExtensions({}))}),s=function(t){u(t,r,{value:{i:"O"+ ++f,w:{}}})},l=function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!n)return"E";s(t)}return t[r].i},p=function(t,n){if(!i(t,r)){if(!c(t))return!0;if(!n)return!1;s(t)}return t[r].w},d=function(t){return a&&v.NEED&&c(t)&&!i(t,r)&&s(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},function(t,n,e){var r=e(6),o=e(10),i=e(9);t.exports=e(4)?Object.defineProperties:function(t,n){o(t);for(var e,u=i(n),f=u.length,c=0;f>c;)r.f(t,e=u[c++],n[e]);return t}},function(t,n,e){var r=e(19),o=e(12),i=e(3),u=e(24),f=e(2),c=e(30),a=Object.getOwnPropertyDescriptor;n.f=e(4)?a:function(t,n){if(t=i(t),n=u(n,!0),c)try{return a(t,n)}catch(t){}if(f(t,n))return o(!r.f.call(t,n),t[n])}},function(t,n,e){var r=e(3),o=e(33).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?f(t):o(r(t))}},function(t,n,e){var r=e(2),o=e(37),i=e(21)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(23),o=e(15);t.exports=function(t){return function(n,e){var i,u,f=String(o(n)),c=r(e),a=f.length;return c<0||c>=a?t?"":void 0:(i=f.charCodeAt(c),i<55296||i>56319||c+1===a||(u=f.charCodeAt(c+1))<56320||u>57343?t?f.charAt(c):i:t?f.slice(c,c+2):(i-55296<<10)+(u-56320)+65536)}}},function(t,n,e){var r=e(23),o=Math.max,i=Math.min;t.exports=function(t,n){return t=r(t),t<0?o(t+n,0):i(t,n)}},function(t,n,e){var r=e(23),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n,e){"use strict";var r=e(44),o=e(52),i=e(17),u=e(3);t.exports=e(31)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,o(1)):"keys"==n?o(0,e):"values"==n?o(0,t[e]):o(0,[e,t[e]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,n){},function(t,n,e){"use strict";var r=e(59)(!0);e(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,e){"use strict";var r=e(1),o=e(2),i=e(4),u=e(27),f=e(36),c=e(54).KEY,a=e(8),s=e(22),l=e(20),p=e(13),d=e(7),v=e(26),y=e(25),h=e(53),b=e(47),x=e(50),g=e(10),m=e(3),w=e(24),O=e(12),S=e(32),_=e(57),j=e(56),P=e(6),E=e(9),M=j.f,A=P.f,T=_.f,L=r.Symbol,N=r.JSON,C=N&&N.stringify,k="prototype",F=d("_hidden"),q=d("toPrimitive"),I={}.propertyIsEnumerable,B=s("symbol-registry"),D=s("symbols"),W=s("op-symbols"),H=Object[k],K="function"==typeof L,R=r.QObject,J=!R||!R[k]||!R[k].findChild,U=i&&a(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=M(H,n);r&&delete H[n],A(t,n,e),r&&t!==H&&A(H,n,r)}:A,G=function(t){var n=D[t]=S(L[k]);return n._k=t,n},$=K&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},z=function(t,n,e){return t===H&&z(W,n,e),g(t),n=w(n,!0),g(e),o(D,n)?(e.enumerable?(o(t,F)&&t[F][n]&&(t[F][n]=!1),e=S(e,{enumerable:O(0,!1)})):(o(t,F)||A(t,F,O(1,{})),t[F][n]=!0),U(t,n,e)):A(t,n,e)},Y=function(t,n){g(t);for(var e,r=b(n=m(n)),o=0,i=r.length;i>o;)z(t,e=r[o++],n[e]);return t},Q=function(t,n){return void 0===n?S(t):Y(S(t),n)},X=function(t){var n=I.call(this,t=w(t,!0));return!(this===H&&o(D,t)&&!o(W,t))&&(!(n||!o(this,t)||!o(D,t)||o(this,F)&&this[F][t])||n)},V=function(t,n){if(t=m(t),n=w(n,!0),t!==H||!o(D,n)||o(W,n)){var e=M(t,n);return!e||!o(D,n)||o(t,F)&&t[F][n]||(e.enumerable=!0),e}},Z=function(t){for(var n,e=T(m(t)),r=[],i=0;e.length>i;)o(D,n=e[i++])||n==F||n==c||r.push(n);return r},tt=function(t){for(var n,e=t===H,r=T(e?W:m(t)),i=[],u=0;r.length>u;)!o(D,n=r[u++])||e&&!o(H,n)||i.push(D[n]);return i};K||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),n=function(e){this===H&&n.call(W,e),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),U(this,t,O(1,e))};return i&&J&&U(H,t,{configurable:!0,set:n}),G(t)},f(L[k],"toString",function(){return this._k}),j.f=V,P.f=z,e(33).f=_.f=Z,e(19).f=X,e(34).f=tt,i&&!e(18)&&f(H,"propertyIsEnumerable",X,!0),v.f=function(t){return G(d(t))}),u(u.G+u.W+u.F*!K,{Symbol:L});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)d(nt[et++]);for(var nt=E(d.store),et=0;nt.length>et;)y(nt[et++]);u(u.S+u.F*!K,"Symbol",{for:function(t){return o(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if($(t))return h(B,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){J=!0},useSimple:function(){J=!1}}),u(u.S+u.F*!K,"Object",{create:Q,defineProperty:z,defineProperties:Y,getOwnPropertyDescriptor:V,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),N&&u(u.S+u.F*(!K||a(function(){var t=L();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var n,e,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return n=r[1],"function"==typeof n&&(e=n),!e&&x(n)||(n=function(t,n){if(e&&(n=e.call(this,t,n)),!$(n))return n}),r[1]=n,C.apply(N,r)}}}),L[k][q]||e(5)(L[k],q,L[k].valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){e(25)("asyncIterator")},function(t,n,e){e(25)("observable")},function(t,n,e){e(62);for(var r=e(1),o=e(5),i=e(17),u=e(7)("toStringTag"),f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var a=f[c],s=r[a],l=s&&s.prototype;l&&!l[u]&&o(l,u,a),i[a]=i.Array}},function(t,n){"use strict";var e={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&t.indexOf("KHTML")==-1,mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:t.indexOf("Safari")==-1,weixin:t.indexOf("MicroMessenger")==-1}}()};t.exports=e},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=e(40),i=r(o),u=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):o[t]||t}function n(t){return l[t]}var e=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,r=/['<> "&]/g,o={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},f=/\u00a0/g,c=/<br\s*\/?>/gi,a=/\r?\n/g,s=/\s/g,l={};for(var p in o)l[o[p]]=p;return o["&apos;"]="'",l["'"]="&#39;",{encode:function(t){return t?(""+t).replace(r,n).replace(a,"<br/>").replace(s,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(c,"\n").replace(e,t).replace(f," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e+=2)n.push(String.fromCharCode("0x"+t.slice(e,e+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,e=t.length;e>n;n++)t[n]=u.encodeObject(t[n]);else if("object"==("undefined"==typeof t?"undefined":(0,i.default)(t)))for(var r in t)t[r]=u.encodeObject(t[r]);else if("string"==typeof t)return u.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=u},function(t,n){function e(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=e},function(t,n){function e(t,n){if(t.classList)t.classList.remove(n);else{var e=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(e," ")}}t.exports=e},,,function(t,n){"use strict";function e(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){var n=document.querySelectorAll(".article-entry a:not(.article-more-a)");n.forEach(function(t){var n=t.setAttribute("target");n&&""!==n||t.setAttribute("target","_blank")})}var e=document.querySelector("#js-aboutme");e&&0!==e.length&&(e.innerHTML=e.innerText)}t.exports={init:e}},,,,,,,,,function(t,n){function e(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var e=t.nextSibling;return e?t.parentNode.insertBefore(n,e):t.parentNode.appendChild(n)}t.exports=e}])</script><script src="/./main.05aabf.js"></script><script>!function(){var e=function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)};e("/slider.885efe.js")}()</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
      
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'friends')"><a href="javascript:void(0)" q-class="active:friends">友链</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">DNS Tunnel</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">read and movies</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Xposed</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Python crawl</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">oneplus</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">linux,windows,privilege</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">reflect</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">sucks things</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">tools</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">blast</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">vulnerability</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">爬虫</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">about something</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">工具，AWVS</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">零碎</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">pentester</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">say</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">program</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">懒人</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">感悟</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Sucksthings</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">一些思考</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">ctf</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">编程约规</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">资源</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、在博客根目录（注意不是yilia根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            2、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: true
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    
    	<section class="tools-section tools-section-friends" q-show="friends">
  		
        <ul class="search-ul">
          
            <li class="search-li">
              <a href="http://www.lucaroot.pw/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>lucaroot</a>
            </li>
          
            <li class="search-li">
              <a href="http://thief.one" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>thiefone</a>
            </li>
          
        </ul>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">打杂搬砖玩泥巴；程序员；&lt;br&gt;真文青；近代史，电影，经济。</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>